@* <remarks> *@
@* Author: Team P1-3 *@
@* </remarks> *@
@using LivingLab.Web.Models.ViewModels.Accessory
@model LivingLab.Web.Models.ViewModels.Accessory.ViewAccessoryViewModel

@{
    ViewData["Title"] = "Manage Accessory";
}
<link rel="Stylesheet" href="~/css/viewAccessory.css" type="text/css"/>


<div class="flex justify-between my-8">
    <div>
        <h1 class="text-2xl"> Manage Accessory</h1>
        <h2 class="text-lg"> NYP-SR7C </h2>
    </div>
    <div class="-mb-10">
        <button id="addAccessoryBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline my-8" type="button">
            Add Accessory
        </button>
    </div>
</div>

<table id="table_id" class="display">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Last Updated</th>
        <th>Status</th>
        <th>Borrowable</th>
        <th>Borrowed By</th>
        <th>DueDate</th>
        <th></th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    @foreach (var accessory in Model.AccessoryList)
    {
        <tr>
            <td>@accessory.Id</td>
            <td>@accessory.AccessoryType.Name</td>
            <td>@accessory.AccessoryType.Type</td>
            <td>@accessory.AccessoryType.Description</td>
            <td>@accessory.LastUpdated.ToString("MM/dd/yyyy")</td>
            <td>@accessory.Status</td>
            <td>@accessory.AccessoryType.Borrowable</td>
            <td>@accessory.LabUserId</td>
            <td>@accessory.DueDate?.ToString("MM/dd/yyyy")</td>
            <td></td>
            <td></td>
        </tr>
    }
    </tbody>
</table>

<div class="bg-black bg-opacity-50 absolute inset-0 hidden justify-center items-center" id="overlay">
    <div class="bg-white max-w-lg py-4 px-4 rounded shadow-xl text-gray-800">
        <div class="flex justify-between items-center">
            <h4 class="text-lg font-bold">Add Accessory</h4>
            <svg class="h-8 w-8 cursor-pointer p-1 hover:bg-gray-300 rounded-full" id="close-modal" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      clip-rule="evenodd">
                </path>
            </svg>
        </div>
        <div>
            <p class="text-md-start">NYP-SR7C </p>
        </div>
        <div class="mt-4">
            <form class="w-full max-w-lg" asp-controller="Accessory" asp-action="CreateAccessory" method="post">
                <div class="flex flex-wrap -mx-3 mb-2">
                    <div class="w-full px-3">
                        <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="Id">
                            Accessory ID
                        </label>
                        @Html.TextBoxFor(m => m.Id, new {disabled = "disabled", @readonly = "readonly", @class = "appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                        @* <input class="appearance-none block w-full bg-gray-100 text-gray-700 border border-gray-300 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-device-id" type="text" placeholder="D0001" disabled> *@
                        @* <p class="text-gray-600 text-xs italic">Make it as long and as crazy as you'd like</p> *@
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        @* @Html.LabelFor(m => m.AccessoryTypeId, new { htmlAttributes = new {@class = "tracking-wide text-gray-700 text-xs font-bold mb-2"}}) *@
                        <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="AccessoryTypeId">
                            Accessory Type
                        </label>
                        <div class="relative">
                            @* @Html.TextBoxFor(m => m.Type, new {@class = "appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"}) *@
                            @Html.DropDownListFor(m => m.AccessoryTypeId, new SelectList(Model.AccessoryTypeNameList, "Value", "Text", "Select Accessory"), new {@class = "block appearance-none w-full bg-white text-gray-900 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                            @* <select @Html.DropDownList(x => Model.Id, new SelectList()) class="block appearance-none w-full bg-white text-gray-900 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-device-type"> *@
                            @*     <option>Camera</option> *@
                            @*     <option>Ultrasonic Sensor</option> *@
                            @*     <option>Humidity Sensor</option> *@
                            @*     <option>Water Pressure Sensor</option> *@
                            @*     <option>IR Sensor</option> *@
                            @*     <option>Proximity Sensor</option> *@
                            @*     <option>LED Lights</option> *@
                            @*     <option>Buzzer</option> *@
                            @* </select> *@
                        </div>
                    </div>
                    <div class="w-full md:w-1/2 px-3">
                        <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-reviewer">
                            Assign Reviewer
                        </label>
                        <div class="relative">
                            <select class="block appearance-none w-full bg-white text-gray-900 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-reviewer">
                                <option>Lab Technician 0</option>
                                <option>Lab Technician 1</option>
                                <option>Lab Technician 2</option>
                                <option>Lab Technician 3</option>
                                <option>Lab Technician 4</option>
                                <option>Lab Technician 5</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="forNewType" class="hidden">
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="Name">
                                Name
                            </label>
                            @Html.TextBoxFor(m => m.Name, new {@class = "appearance-none block w-full bg-white text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                            @* <input class="appearance-none block w-full bg-white text-gray-900 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-cost" type="number" placeholder="$00.00"> *@
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="newAccessoryType">
                                New Accessory Type
                            </label>
                            <div class="relative">
                                @Html.TextBoxFor(m => m.newAccessoryType, new {@class = "appearance-none block w-full bg-white text-gray-900 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                            </div>
                        </div>

                    </div>

                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="Description">
                                Description
                            </label>
                            @Html.TextBoxFor(m => m.Description, new {@class = "appearance-none block w-full bg-white text-gray-900 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                            @* <input class="appearance-none block w-full bg-white text-gray-900 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-desc" type="text" placeholder="Description"> *@
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="tracking-wide text-gray-700 text-xs font-bold mb-2" asp-for="Borrowable">
                                Can it be borrowed?
                            </label>
                            <div class="relative">
                                @Html.DropDownListFor(m => m.BorrowableIndex, new SelectList(Model.BorrowableList, "Value", "Text", 0), new {@class = "block appearance-none w-full bg-white text-gray-900 border border-gray-200 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})
                                @* <select class="block appearance-none w-full bg-white text-gray-900 border border-gray-200  py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-status"> *@
                                @*     <option>No</option> *@
                                @*     <option>Yes</option> *@
                                @* </select> *@
                            </div>
                        </div>

                    </div>
                </div>
                <div class="mt-3 flex justify-end space-x-3">
                    <button id="cancelBtn" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded">
                        Cancel
                    </button>
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" type="submit">
                        Add
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/viewAccessory.js"></script>
}